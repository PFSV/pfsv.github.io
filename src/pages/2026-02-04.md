korail report generation
* 코레일 온프레미스에 적용 완료 
-> input request 형식 정되었으니까 이거에 맞춰서 수정 // text 변수로 오면 처리 떔빵을 함  
-> 변수들이 추가되는데, 정리해서 준다함
-> 가변적인 리포트 format : concaternate로 처리

수정사항
"""
Line 138: is_modification 판단 로직이 중복되어 있어요

classify_request_node에서 이미 판단하는데
generate_report_node에서 다시 "previous_answer" in state로 체크


Session 초기화: 첫 요청에서 writing_style이 없으면 에러날 수 있어요
예외 처리: tf_valid 함수가 애매한 응답에 대해 False를 반환하는데, 이게 안전한 기본값인지 확인 필요
"""

=> 지금 리포트 포맷 안 받고 안 작동함(까먹고 안 넣음) -> 넣어서 작용하게하기
=> 홈페이지 연동은 됨 . . . 근데 SSE를 추가해야함
-> 이번주 개발, 다음주 테스트 / 앞에랑 붙이는거 이번주에 끝내기  

* 사규내규 검색시스템(Airail) 
-> 토피컬 가드레일 지금 생각 안 하고 답 쭉 나옴
-> CoT 쓰고, FewShot 좀 넣고, SamplingParameter RepeatPenalty 좀 넣기(FrequencyPenalty도?)
=> Co, Fewshot 넣고 Context length 늘림. 원인 출력해보라하니 프롬프트가 모델을 과잉정렬시켜 전부 폴스로, 혹은 트루로 만듬, 유연하게 대처 (완료)
=> topical 보단, safety, security 위주로( 법령 등 포함되어서 )

** 실제 예시로 추가함 
악의적인 내용 부분 추가, 비 도메인성 내용 삭제
장난스러운 내용 실제 예시로 추가, 공격성 내용은 없어서 임의생성
한국은행 관련된건 데이터 라벨이 0으로 붙은게 있었음 ->

-> 강화학습으로 프롬프트 업글시키는거 생각
* vllm 2,3 GPU cache 안 쓰고있음 -> context length 이슈로 보임 (vram not enough)

* 지금보니까 dot env부터 유틸 이런것들이 많이 아쉬움 - 나중에 리팩토링 갈겨야함


